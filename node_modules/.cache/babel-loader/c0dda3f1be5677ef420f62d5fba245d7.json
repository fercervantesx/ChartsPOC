{"ast":null,"code":"import _slicedToArray from \"/Users/fernando.cervantes/www/react-vis/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/fernando.cervantes/www/react-vis/src/index.js\";\nimport React, { Component, useState } from 'react';\nimport { render } from 'react-dom';\nimport './index.css';\nimport 'react-vis/dist/style.css';\nimport { XYPlot, FlexibleWidthXYPlot, XAxis, YAxis, ChartLabel, HorizontalGridLines, RadialChart, Hint, Crosshair, CustomSVGSeries, AreaSeries, MarkSeries } from 'react-vis';\nimport data from './data.json';\nimport weatherData from './weatherData.json';\nimport Cloudy from './icons/Cloudy';\nimport Thunder from \"./icons/Thunder\";\nimport Drizzle from \"./icons/Drizzle\";\nimport Rain from \"./icons/Rain\";\nimport Snow from \"./icons/Snow\";\nimport Atmosphere from \"./icons/Atmosphere\";\nimport Clear from \"./icons/Clear\";\nconst series = data.map(async (d, index) => {\n  let weathers;\n  await fetch(\"api.openweathermap.org/data/2.5/forecast?q=Chicago&appid=b763d455e0740bd4b634fcb0686d08e0\").then(response => response.json()).then(data => weathers = data);\n  weathers = weathers.slice(0, 40);\n  return {\n    x: new Date(weathers[index].dt_txt).valueOf(),\n    y: d.ep || 0,\n    w: weathers[index].weather[0].main\n  };\n});\nconst symbolSeries = series.map((s, i) => ({\n  x: s.x,\n  y: 8.5,\n  customComponent: (row, positionInPixels) => {\n    let cmp;\n\n    if (i % 4 === 0 && i < series.length - 1) {\n      if (s.w === 'Thunderstorm') {\n        cmp = React.createElement(Thunder, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        });\n      }\n\n      if (s.w === 'Drizzle') {\n        cmp = React.createElement(Drizzle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        });\n      }\n\n      if (s.w === 'Rain') {\n        cmp = React.createElement(Rain, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        });\n      }\n\n      if (s.w === 'Snow') {\n        cmp = React.createElement(Snow, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        });\n      }\n\n      if (s.w === 'Atmosphere') {\n        cmp = React.createElement(Atmosphere, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        });\n      }\n\n      if (s.w === 'Clear') {\n        cmp = React.createElement(Clear, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        });\n      }\n\n      if (s.w === 'Clouds') {\n        cmp = React.createElement(Cloudy, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        });\n      }\n    }\n\n    return cmp;\n  }\n}));\n\nconst _onNearestX = setValues => (value, {\n  index\n}) => {\n  setValues([series[index]]);\n};\n\nfunction Example(props) {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        values = _useState2[0],\n        setValues = _useState2[1];\n\n  return React.createElement(FlexibleWidthXYPlot, {\n    xType: \"ordinal\",\n    height: 400,\n    yDomain: [0, 9],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(HorizontalGridLines, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }), React.createElement(XAxis, {\n    tickTotal: 3,\n    tickFormat: (v, i) => {\n      if (i % 4 === 0) {\n        return \"\".concat(new Date(parseInt(v)).getHours(), \":\").concat(new Date(parseInt(v)).getMinutes().toString().padStart(2, '0'));\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), React.createElement(YAxis, {\n    tickValues: [0, 5, 9],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), React.createElement(ChartLabel, {\n    text: \"KWH\",\n    className: \"alt-y-label\",\n    includeMargin: false,\n    xPercent: -0.02,\n    yPercent: 0.25,\n    style: {\n      transform: 'rotate(-90)',\n      textAnchor: 'end'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), React.createElement(ChartLabel, {\n    text: \"KWH\",\n    className: \"alt-y-label\",\n    includeMargin: false,\n    xPercent: -0.02,\n    yPercent: 0.75,\n    style: {\n      transform: 'rotate(-90)',\n      textAnchor: 'end'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }), React.createElement(AreaSeries, {\n    onNearestX: _onNearestX(setValues),\n    data: series,\n    fill: '#FFE600',\n    opacity: 0.5,\n    style: {\n      stroke: '#FFE600',\n      strokeWidth: 3\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }), React.createElement(CustomSVGSeries, {\n    data: symbolSeries,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), React.createElement(MarkSeries, {\n    className: \"mark-series-example\",\n    size: [2],\n    stroke: '#FFE600',\n    fill: '#FFE600',\n    data: series,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }), React.createElement(Crosshair, {\n    values: values,\n    className: 'test-class-name',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      padding: 5,\n      width: 150,\n      background: 'black'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, \"Date: \", values[0] && new Date(values[0].x).toDateString()), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"KWH: \", values[0] && values[0].y), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"Weather:\", ' ', values[0] && values[0].w ? values[0].w : 'Error'))));\n}\n\nclass SimpleRadialChart extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      value: false\n    };\n  }\n\n  render() {\n    const value = this.state.value;\n    return React.createElement(RadialChart, {\n      className: 'donut-chart-example',\n      innerRadius: 100,\n      radius: 140,\n      getAngle: d => d.theta,\n      data: [{\n        theta: 2,\n        className: 'custom-class'\n      }, {\n        theta: 6\n      }, {\n        theta: 2\n      }, {\n        theta: 3\n      }, {\n        theta: 1\n      }],\n      onValueMouseOver: v => this.setState({\n        value: v\n      }),\n      onSeriesMouseOut: v => this.setState({\n        value: false\n      }),\n      width: 300,\n      height: 300,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, value !== false && React.createElement(Hint, {\n      value: value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: 'React'\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(Example, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }));\n  }\n\n}\n\nrender(React.createElement(App, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 197\n  },\n  __self: this\n}), document.getElementById('root'));","map":{"version":3,"sources":["/Users/fernando.cervantes/www/react-vis/src/index.js"],"names":["React","Component","useState","render","XYPlot","FlexibleWidthXYPlot","XAxis","YAxis","ChartLabel","HorizontalGridLines","RadialChart","Hint","Crosshair","CustomSVGSeries","AreaSeries","MarkSeries","data","weatherData","Cloudy","Thunder","Drizzle","Rain","Snow","Atmosphere","Clear","series","map","d","index","weathers","fetch","then","response","json","slice","x","Date","dt_txt","valueOf","y","ep","w","weather","main","symbolSeries","s","i","customComponent","row","positionInPixels","cmp","length","_onNearestX","setValues","value","Example","props","values","v","parseInt","getHours","getMinutes","toString","padStart","transform","textAnchor","stroke","strokeWidth","padding","width","background","toDateString","SimpleRadialChart","state","theta","className","setState","App","constructor","name","document","getElementById"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react'\nimport { render } from 'react-dom'\nimport './index.css'\nimport 'react-vis/dist/style.css'\nimport {\n  XYPlot,\n  FlexibleWidthXYPlot,\n  XAxis,\n  YAxis,\n  ChartLabel,\n  HorizontalGridLines,\n  RadialChart,\n  Hint,\n  Crosshair,\n  CustomSVGSeries,\n  AreaSeries,\n  MarkSeries,\n} from 'react-vis'\nimport data from './data.json'\nimport weatherData from './weatherData.json'\nimport Cloudy from './icons/Cloudy'\nimport Thunder from \"./icons/Thunder\";\nimport Drizzle from \"./icons/Drizzle\";\nimport Rain from \"./icons/Rain\";\nimport Snow from \"./icons/Snow\";\nimport Atmosphere from \"./icons/Atmosphere\";\nimport Clear from \"./icons/Clear\";\n\nconst series = data.map(async (d, index) => {\n  let weathers;\n  await fetch(\n    \"api.openweathermap.org/data/2.5/forecast?q=Chicago&appid=b763d455e0740bd4b634fcb0686d08e0\"\n  )\n    .then(response => response.json())\n    .then(data => (weathers = data));\n  weathers = weathers.slice(0, 40);\n  return {\n    x: new Date(weathers[index].dt_txt).valueOf(),\n    y: d.ep || 0,\n    w: weathers[index].weather[0].main,\n  }\n})\n\nconst symbolSeries = series.map((s, i) => ({\n  x: s.x,\n  y: 8.5,\n  customComponent: (row, positionInPixels) => {\n    let cmp\n    if (i % 4 === 0 && i < series.length - 1) {\n      if (s.w === 'Thunderstorm') {\n        cmp = <Thunder />\n      }\n      if (s.w === 'Drizzle') {\n        cmp = <Drizzle />\n      }\n      if (s.w === 'Rain') {\n        cmp = <Rain />\n      }\n      if (s.w === 'Snow') {\n        cmp = <Snow />\n      }\n      if (s.w === 'Atmosphere') {\n        cmp = <Atmosphere />\n      }\n      if (s.w === 'Clear') {\n        cmp = <Clear />\n      }\n      if (s.w === 'Clouds') {\n        cmp = <Cloudy />\n      }\n    }\n    return cmp\n  },\n}))\n\nconst _onNearestX = setValues => (value, { index }) => {\n  setValues([series[index]])\n}\n\nfunction Example(props) {\n  const [values, setValues] = useState([])\n  return (\n    <FlexibleWidthXYPlot xType=\"ordinal\" height={400} yDomain={[0, 9]}>\n      <HorizontalGridLines />\n      <XAxis\n        tickTotal={3}\n        tickFormat={(v, i) => {\n          if (i % 4 === 0) {\n            return `${new Date(parseInt(v)).getHours()}:${new Date(parseInt(v))\n              .getMinutes()\n              .toString()\n              .padStart(2, '0')}`\n          }\n        }}\n      />\n      <YAxis tickValues={[0, 5, 9]} />\n      <ChartLabel\n        text=\"KWH\"\n        className=\"alt-y-label\"\n        includeMargin={false}\n        xPercent={-0.02}\n        yPercent={0.25}\n        style={{\n          transform: 'rotate(-90)',\n          textAnchor: 'end',\n        }}\n      />\n      <ChartLabel\n        text=\"KWH\"\n        className=\"alt-y-label\"\n        includeMargin={false}\n        xPercent={-0.02}\n        yPercent={0.75}\n        style={{\n          transform: 'rotate(-90)',\n          textAnchor: 'end',\n        }}\n      />\n      <AreaSeries\n        onNearestX={_onNearestX(setValues)}\n        data={series}\n        fill={'#FFE600'}\n        opacity={0.5}\n        style={{ stroke: '#FFE600', strokeWidth: 3 }}\n      />\n      <CustomSVGSeries data={symbolSeries} />\n      <MarkSeries\n        className=\"mark-series-example\"\n        size={[2]}\n        stroke={'#FFE600'}\n        fill={'#FFE600'}\n        data={series}\n      />\n      <Crosshair values={values} className={'test-class-name'}>\n        <div style={{ padding: 5, width: 150, background: 'black' }}>\n          <div>Date: {values[0] && new Date(values[0].x).toDateString()}</div>\n          <div>KWH: {values[0] && values[0].y}</div>\n          <div>\n            Weather:{' '}\n            {values[0] && values[0].w\n              ? values[0].w : 'Error'}\n          </div>\n        </div>\n      </Crosshair>\n    </FlexibleWidthXYPlot>\n  )\n}\n\nclass SimpleRadialChart extends Component {\n  state = {\n    value: false,\n  }\n\n  render() {\n    const { value } = this.state\n    return (\n      <RadialChart\n        className={'donut-chart-example'}\n        innerRadius={100}\n        radius={140}\n        getAngle={d => d.theta}\n        data={[\n          { theta: 2, className: 'custom-class' },\n          { theta: 6 },\n          { theta: 2 },\n          { theta: 3 },\n          { theta: 1 },\n        ]}\n        onValueMouseOver={v => this.setState({ value: v })}\n        onSeriesMouseOut={v => this.setState({ value: false })}\n        width={300}\n        height={300}\n      >\n        {value !== false && <Hint value={value} />}\n      </RadialChart>\n    )\n  }\n}\n\nclass App extends Component {\n  constructor() {\n    super()\n    this.state = {\n      name: 'React',\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Example />\n      </React.Fragment>\n    )\n  }\n}\n\nrender(<App />, document.getElementById('root'))\n"]},"metadata":{},"sourceType":"module"}